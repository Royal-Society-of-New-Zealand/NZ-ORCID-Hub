<VirtualHost *:80>
	DocumentRoot "/var/www/orcidhub"
	ServerName test.orcidhub.org.nz
	#ServerName orcidhub.tk
	#ServerAlias www.orcidhub.tk
	#WSGIDaemonProcess yourapplication user=user1 group=group1 threads=5
	#WSGIProcessGroup yourapplication
	#WSGIApplicationGroup %{GLOBAL}
	#Order deny,allow
	#Allow from all
	<Location /Tuakiri>
		AuthType shibboleth
		ShibRequireSession On
		require valid-user
		ShibUseHeaders On
	</Location>
	WSGIScriptAlias / /var/www/orcidhub/app.wsgi 
	Alias /static /var/www/orcidhub/static
</VirtualHost>

<VirtualHost *:443>
	DocumentRoot "/var/www/orcidhub"
	ServerName test.orcidhub.org.nz
	#ServerName orcidhub.tk
	#ServerAlias www.orcidhub.tk
	#WSGIDaemonProcess yourapplication user=user1 group=group1 threads=5
	#WSGIProcessGroup yourapplication
	#WSGIApplicationGroup %{GLOBAL}
	#Order deny,allow
	#Allow from all
	WSGIScriptAlias / /var/www/orcidhub/app.wsgi 
	Alias /static /var/www/orcidhub/static
	## Shibboleth:
	<Location /Tuakiri>
		AuthType shibboleth
		ShibRequireSession On
		require valid-user
		ShibUseHeaders On
	</Location>
	<Location /Shibboleth.sso>
		AuthType None
		Require all granted
		SetHandler shib
	</Location>
	<IfModule mod_alias.c>
	  <Location /shibboleth-sp>
	    AuthType None
	    Require all granted
	  </Location>
	  Alias /shibboleth-sp/main.css /usr/share/shibboleth/main.css
	</IfModule>

	## SSL:
	SSLEngine on
	SSLProtocol all -SSLv2
	SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5:!SEED:!IDEA
	SSLCertificateFile /etc/pki/tls/private/server.key
	SSLCertificateKeyFile /etc/pki/tls/certs/server.crt
</VirtualHost>
